<div style="text-align:center; font-family: Arial, sans-serif; background-color: #f9f9f9; padding: 20px;">
  <!-- Logo -->
  <div>
    <img src="/assets/th.jpg" alt="Logo HPS" style="width: 150px; margin-bottom: 20px;">
  </div>

  <!-- Titre principal -->
  <h1 style="color: #333;">Extraction et Script Generator</h1>

  <!-- Formulaire d'upload de fichiers -->
  <div style="margin-bottom: 20px;">
    <input
      type="file"
      (change)="onFileChange($event, 'sql')"
      placeholder="Choisir un fichier SQL"
      style="margin: 10px; padding: 5px; border: 1px solid #ccc; border-radius: 5px;"
    />
    <input
      type="file"
      (change)="onFileChange($event, 'text')"
      placeholder="Choisir un fichier TXT"
      style="margin: 10px; padding: 5px; border: 1px solid #ccc; border-radius: 5px;"
    />
    <button
      (click)="onUpload()"
      style="background-color: #ff5722; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
      Uploader les fichiers
    </button>
  </div>

  <!-- Boutons pour interagir avec les fonctionnalités -->
  <div style="margin-bottom: 20px;">
    <button
      (click)="onAnalyze()"
      style="background-color: #ff5722; color: white; border: none; padding: 10px 20px; margin: 5px; border-radius: 5px; cursor: pointer;">
      Analyser les fichiers
    </button>
    <button
      (click)="onRecycle()"
      style="background-color: #ff5722; color: white; border: none; padding: 10px 20px; margin: 5px; border-radius: 5px; cursor: pointer;">
      Générer le script de recyclage
    </button>
    <button
      (click)="onDownload()"
      style="background-color: #ff5722; color: white; border: none; padding: 10px 20px; margin: 5px; border-radius: 5px; cursor: pointer;">
      Télécharger le fichier généré
    </button>
    <button
      (click)="onDelete()"
      style="background-color: #ff5722; color: white; border: none; padding: 10px 20px; margin: 5px; border-radius: 5px; cursor: pointer;">
      Supprimer le fichier généré
    </button>
  </div>

  <!-- Affichage des résultats -->
  <div
    *ngIf="responseMessage"
    style="margin-top: 20px; text-align: left; width: 80%; margin: auto; background-color: #fff; border: 1px solid #ddd; border-radius: 5px; padding: 20px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);">
    <h3 style="color: #ff5722;">Résultat :</h3>

    <!-- Afficher JSON ou texte brut selon isSqlResponse -->
    <pre
      *ngIf="isSqlResponse"
      style="background-color: #272822; color: #f8f8f2; padding: 10px; border-radius: 5px; white-space: pre-wrap; font-family: monospace;">
      {{ responseMessage }}
    </pre>
    <pre
      *ngIf="!isSqlResponse"
      style="background-color: #272822; color: #f8f8f2; padding: 10px; border-radius: 5px; font-family: monospace;">
      {{ responseMessage | json }}
    </pre>
  </div>
</div>
